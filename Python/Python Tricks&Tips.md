#

å‚è€ƒèµ„æ–™

- [PEP 263](https://www.python.org/dev/peps/pep-0263/)
- [Python Tricks](https://www.freecodecamp.org/news/an-a-z-of-useful-python-tricks-b467524ee747/)
- [Python æŠ€å·§](https://www.cnblogs.com/Lands-ljk/p/5746837.html)
- [The Meaning of Underscores in Python](https://dbader.org/blog/meaning-of-underscores-in-python)

## 1. æŒ‡å®šè„šæœ¬è§£é‡Šå™¨

  > `#!/usr/bin/python`

  è¿™æ˜¯è„šæœ¬è¯­è¨€å…±åŒéµå®ˆçš„è§„åˆ™ï¼š

  ç¬¬ä¸€è¡Œæ³¨é‡Šä¸º `#!/path/to/script/interprete`ï¼Œå‘Šè¯‰Linux/OS Xç³»ç»Ÿ, ç”¨ä»€ä¹ˆè§£é‡Šå™¨è¿è¡Œè„šæœ¬ä»¥åŠè§£é‡Šå™¨æ‰€åœ¨çš„ä½ç½®, Windowsç³»ç»Ÿä¼šå¿½ç•¥è¿™ä¸ªæ³¨é‡Š.

  æ³¨æ„ï¼š

  1. å¿…é¡»æ˜¯æ–‡ä»¶çš„ç¬¬ä¸€è¡Œ
  2. å¿…é¡»ä»¥`#!`å¼€å¤´
  3. `/path/to/script/interpreter`æ˜¯è„šæœ¬è§£é‡Šå™¨çš„å…¨è·¯å¾„åã€‚

  ä¾‹å¦‚ï¼š

- `#!/bin/sh`           shellè„šæœ¬
- `#!/usr/bin/perl`     perlè„šæœ¬
- `#!/usr/bin/python3`  python3è„šæœ¬
- `#!/usr/bin/python2`  python2è„šæœ¬

## 2. æŒ‡å®šè„šæœ¬ç¼–ç 

> `# -*- coding: <encoding name> -*-`

æˆ–è€…

> `# coding=<encoding name>`

æˆ–è€…

>`# vim: set fileencoding=<encoding name> :`

æ›´å‡†ç¡®åœ°è¯´ï¼Œæ˜¯å¿…é¡»åŒ¹é…ä»¥ä¸‹æ­£åˆ™è¡¨è¾¾å¼:

> `^[ \t\f]*#.*?coding[:=][ \t]*([-_.a-zA-Z0-9]+)`

ç¬¬äºŒè¡Œæ³¨é‡Šæ˜¯ä¸ºäº†å‘Šè¯‰Pythonè§£é‡Šå™¨ï¼ŒæŒ‰ç…§ä½•ç§ç¼–ç è¯»å–æºä»£ç ï¼Œå¦åˆ™ï¼Œåœ¨æºä»£ç ä¸­å†™çš„ä¸­æ–‡è¾“å‡ºå¯èƒ½ä¼šæœ‰ä¹±ç , æ²¡æœ‰ç¼–ç æ³¨é‡Šï¼ŒPythonçš„è§£æå™¨å°†ä¸ºå‡è®¾ASCIIæ–‡æœ¬ã€‚

## 3. Python æŠ€å·§å’Œæç¤º

- `all` å’Œ `any`

  ```python
  x = [True, True, False]
  if any(x):
      print("At least one True")
  if all(x):
      print("Not one False")
  if any(x) and not all(x):
      print("At least one True and one False")
  ```

- `bashplotlib`

  > `pip install bashplotlib`

  ä½¿ç”¨`bashplotlib`å¯ä»¥å¸®åŠ©ä½ åœ¨æ§åˆ¶å°è¾“å‡ºå›¾å½¢

- `collections`

  `Python` é»˜è®¤æ•°æ®ç±»å‹ä¸èƒ½æ»¡è¶³éœ€æ±‚æ—¶å¯ä»¥ä½¿ç”¨ `Python` æ ‡å‡†åº“æä¾›çš„`collection`æ¨¡å—ã€‚å®ƒå¯ä»¥æä¾›æ›´å¤šçš„æ•°æ®ç±»å‹ã€‚

  ```python
  from collections import OrderedDict, Counter
  # Remembers the order the keys are added!
  x = OrderedDict(a=1, b=2, c=3)
  # Counts the frequency of each character
  y = Counter("Hello World!")
  ```

- `dir`
  æŸ¥çœ‹Pythonå¯¹è±¡çš„å±æ€§

  ```python

  # å£°æ˜ä¸€ä¸ªQuestionç±»
  class Question(models.Model):
    question_text = models.CharField(max_length=200)
    pub_date = models.DateTimeField('å‘å¸ƒæ—¥æœŸ')

  >>> q1 = Question.objects.get(id=1)
  >>> q1

  # ç›´æ¥è¾“ q1 åªèƒ½çœ‹åˆ°å¯¹è±¡ç±»å‹
  <Question: Question object (1)>

  # ä½¿ç”¨ dir()è¾“å‡º q1 è·å¾— q1 çš„å±æ€§åˆ—è¡¨
  >>> dir(q1)

  [
    ...
    'id',
    'objects',
    'pk',
    'prepare_database_save',
    'pub_date',
    'question_text'
    ...
    ]
  ```

  æƒ³è¦ç›´æ¥è·å¾— q1 å¯¹è±¡çš„å±æ€§å’Œå€¼, æ›´æ¨èé‡å†™ `__str__` æ–¹æ³•

  å°† Question ç±»æ”¹å†™ï¼š

  ```python
  class Question(models.Model):
    question_text = models.CharField(max_length=200)
    pub_date = models.DateTimeField('å‘å¸ƒæ—¥æœŸ')

    def __str__(self):
        question = {
            'id': self.id,
            'text': self.question_text,
            'date': self.pub_date.strftime("%Y-%m-%d")
        }

        return str(question)

  >>> from polls.models import Question
  >>> q1 = Question.objects.get(id=1)
  >>> q1
  <Question: {'id': 1, 'text': "What's new?", 'date': '2019-04-11'}>
  ```

- `emoji`
  >`pip install emoji`

  `emoji` çš„ `Python` åŒ…ã€‚é™¤äº†ç³»åˆ—åˆ«åä¹‹å¤–ï¼Œè¿˜æ”¯æŒç”±unicodeè”ç›Ÿå®šä¹‰çš„æ•´å¥—è¡¨æƒ…ç¬¦å·ä»£ç ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œä»…å¯ç”¨æ­£å¼åˆ—è¡¨ï¼Œæ‰§è¡Œ`emoji.emojize(use_aliases = True)`å¯å¯ç”¨å®Œæ•´åˆ—è¡¨å’Œåˆ«å

  ```python
  >> import emoji
  >> print(emoji.emojize('Python is :thumbs_up:'))
  Python is ğŸ‘
  >> print(emoji.emojize('Python is :thumbsup:', use_aliases=True))
  Python is ğŸ‘
  >> print(emoji.demojize('Python is ğŸ‘'))
  Python is :thumbs_up:
  ```

- `from __future__ import`

  `Python` çš„ç‰ˆæœ¬æ›´æ–°éå¸¸å¿«ï¼Œæ–°çš„ç‰ˆæœ¬å¾€å¾€ä¼šæœ‰å¾ˆå¤šæ–°ç‰¹æ€§ã€‚å¦‚æœä¸æ›´æ–°ï¼Œå°±æ— æ³•ä½¿ç”¨ã€‚

  ä½†æ˜¯ `__future__` æ¨¡å—å¯ä»¥è®©å¯¼å…¥æœªæ¥ç‰ˆæœ¬çš„åŠŸèƒ½ã€‚

  ```python
  from __future__ import print_function
  print("Hello World!")
  ```

  å¦å¤–å¤šä¸ªç‰ˆæœ¬ `Python` å…±å­˜æ¨èä½¿ç”¨ `Pyenv` æˆ–è€… `Anaconda` è¿›è¡Œç®¡ç†

  - [Pythonå¤šç‰ˆæœ¬å…±å­˜å·¥å…·](https://michael728.github.io/2015/11/26/python-pyenv-anaconda/)

- `geopy`

  > `pip install geopy`

  [å®˜æ–¹æ–‡æ¡£](https://geopy.readthedocs.io/en/latest/)

  `geopy` ä½¿ `Python` å¼€å‘äººå‘˜èƒ½å¤Ÿä½¿ç”¨ç¬¬ä¸‰æ–¹åœ°ç†ç¼–ç å™¨å’Œå…¶ä»–æ•°æ®æºè½»æ¾å®šä½å…¨çƒå„åœ°çš„åœ°å€ã€åŸå¸‚ã€å›½å®¶å’Œåœ°æ ‡çš„åæ ‡ã€‚

  ```python
  # æŸ¥è¯¢å®šä½åˆ°åœ°å€å’Œåæ ‡çš„æ­¥éª¤

  >>> from geopy.geocoders import Nominatim
  >>> geolocator = Nominatim(user_agent="specify_your_app_name_here")
  >>> location = geolocator.geocode("175 5th Avenue NYC")
  >>> print(location.address)
  Flatiron Building, 175, 5th Avenue, Flatiron, New York, NYC, New York, ...
  >>> print((location.latitude, location.longitude))
  (40.7410861, -73.9896297241625)
  >>> print(location.raw)
  {'place_id': '9167009604', 'type': 'attraction', ...}
  #
  ```

- `howdoi`
  >`pip install howdoi`

  æœ‰æ—¶å€™ä½ ç¢°åˆ°äº†ä¸€ä¸ªç¼–ç¨‹é—®é¢˜ï¼Œè§‰å¾—è‡ªå·±ä¹‹å‰æ˜æ˜è§è¿‡å®ƒçš„è§£å†³æ–¹æ³•ï¼Œä½†æ˜¯å´è®°ä¸èµ·æ¥å…·ä½“æ˜¯æ€ä¹ˆæ ·çš„äº†ã€‚äºæ˜¯ä½ æƒ³è¦å»StackOverflowä¸Šæ‰¾ï¼Œä½†åˆä¸æƒ³ç¦»å¼€è¿™ä¸ªç»ˆç«¯ã€‚è¿™ä¸ªæ—¶å€™ï¼Œä½ éœ€è¦ä¸‹é¢è¿™ä¸ªå·¥å…·â€”â€”`howdoi`

  `$ howdoi vertical align css`

  `$ howdoi for loop in java`

  `$ howdoi undo commits in git`

  éœ€è¦æ³¨æ„çš„æ˜¯å®ƒåªä»StackOverflowæœ€é¡¶ç«¯çš„ç­”æ¡ˆä¸­æŠ“å–ä»£ç ã€‚æ‰€ä»¥å®ƒç»™ä½ è¿”å›çš„ä¸æ€»æ˜¯æœ€æœ‰ç”¨çš„ä¿¡æ¯

- `**kwargs`

  åŒæ˜Ÿ `**` æ”¾åœ¨å­—å…¸çš„å‰é¢å¯ä»¥è®©ä½ å°†å­—å…¸çš„å†…å®¹ä½œä¸ºå‘½åå‚æ•°ä¼ é€’ç»™å‡½æ•°ã€‚å­—å…¸çš„é”®æ˜¯å‚æ•°çš„åå­—ï¼Œé”®çš„å€¼ä½œä¸ºå‚æ•°çš„å€¼ä¼ é€’ç»™å‡½æ•°ã€‚å¦‚ä¸‹æ‰€ç¤º:

  ```python
  dictionary = {"a": 1, "b": 2}
  def someFunction(a, b):
      print(a + b)
      return

  # ä¸‹é¢ä¸¤ç§åšæ³•æ•ˆæœç›¸åŒ
  someFunction(**dictionary)
  someFunction(a=1, b=2)
  ```

- `list comprehensions` (åˆ—è¡¨æ¨å¯¼)

  åˆ—è¡¨æ¨å¯¼æ˜¯ä¸€äº›ç¼–ç¨‹è¯­è¨€ä¸­å¯ç”¨çš„å¥æ³•ç»“æ„ï¼Œç”¨äºåŸºäºç°æœ‰åˆ—è¡¨åˆ›å»ºåˆ—è¡¨ã€‚

  ```python
  numbers = [1,2,3,4,5,6,7]
  evens = [x for x in numbers if x % 2 is 0]
  odds = [y for y in numbers if y not in evens]
  ```

- `map()`

  Pythonæœ‰è®¸å¤šéå¸¸æœ‰ç”¨çš„å†…ç½®å‡½æ•°ã€‚å…¶ä¸­ä¸€ä¸ªå°±æ˜¯map()â€”â€”ç‰¹åˆ«æ˜¯å’Œlambdaå‡½æ•°ç›¸ç»“åˆçš„æ—¶å€™

  ```python
  x = [1, 2, 3]
  y = map(lambda x : x + 1 , x)
  # prints out [2,3,4]
  print(list(y))
  ```

  åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ`map()` å¯¹`x` ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½åº”ç”¨äº†ä¸€ä¸ªç®€å•çš„ `lambda` å‡½æ•°ã€‚å®ƒä¼šè¿”å›ä¸€ä¸ª `map` å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å¯ä»¥è¢«è½¬åŒ–æˆå¯è¿­ä»£å¯¹è±¡ï¼Œå¦‚åˆ—è¡¨æˆ–è€…å…ƒç»„ã€‚

- `Operator overloading`ï¼ˆæ“ä½œç¬¦é‡è½½ï¼‰

  Pythonæ”¯æŒæ“ä½œç¬¦é‡è½½ã€‚ä½ å¯ä»¥å®šä¹‰ä½¿ç”¨Pythonæ ‡å‡†æ“ä½œç¬¦ç¬¦å·çš„å¯¹è±¡ï¼Œè¿™å¯ä»¥è®©ä½ åœ¨ç‰¹å®šçš„ç¯å¢ƒä¸­ä½¿ç”¨ç‰¹å®šçš„å¯¹è±¡ã€‚

  ```python
  class Thing:
    def __init__(self, value):
        self.__value = value
    def __gt__(self, other):
        return self.__value > other.__value
    def __lt__(self, other):
        return self.__value < other.__value

  something = Thing(100)
  nothing = Thing(0)

  # True
  something > nothing
  # False
  something < nothing
  # Error
  something + nothing
  ```

- `pprint`

  `Pythonçš„` é»˜è®¤ `print()` å‡½æ•°å¯ä»¥æ»¡è¶³æ—¥å¸¸çš„è¾“å‡ºä»»åŠ¡ï¼Œä½†å¦‚æœè¦æ‰“å°æ›´å¤§çš„ã€åµŒå¥—å¼çš„å¯¹è±¡ï¼Œé‚£ä¹ˆä½¿ç”¨é»˜è®¤çš„ `print()` å‡½æ•°æ‰“å°å‡ºæ¥çš„å†…å®¹ä¼šå¾ˆä¸‘é™‹ã€‚

  è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±éœ€è¦`pprint`äº†ï¼Œå®ƒå¯ä»¥è®©å¤æ‚çš„ç»“æ„å‹å¯¹è±¡ä»¥å¯è¯»æ€§æ›´å¼ºçš„æ ¼å¼æ˜¾ç¤ºã€‚

  ```python
  person = {
    'name': 'faye',
    'age': 24,
    'id': 'YT00782',
    'company': {
        'name': 'Agumentum',
        'office': {
            'position': 'Shanghai',
            'room': {
                'flour': '2nd',
                'number': 17205
            }
        },
    }
  }

  # print() å‡½æ•°æ‰“å°æ•ˆæœ
  >>> print(person)
  {'name': 'faye', 'age': 24, 'id': 'YT00782', 'company': {'name': 'Agumentum', 'office': {'position': 'Shanghai', 'room': {'flour': '2nd', 'number': 17205}}}}

  import pprint
  # pprint() å‡½æ•°æ‰“å°æ•ˆæœ
  >>> pprint.pprint(person)
  {'age': 24,
  'company': {'name': 'Agumentum',
              'office': {'position': 'Shanghai',
                          'room': {'flour': '2nd', 'number': 17205}}},
  'id': 'YT00782',
  'name': 'faye'}
  ```

- `sh`

  shåº“è®©ä½ åƒè°ƒç”¨æ–¹æ³•é‚£æ ·è°ƒç”¨ç³»ç»Ÿä¸­çš„å‘½ä»¤ã€‚

  ```python
  from sh import *
  sh.pwd()
  sh.mkdir('new_folder')
  sh.touch('new_file.txt')
  sh.whoami()
  sh.echo('This is great!')
  ```

- `uuid`

  é€šè¿‡Pythonæ ‡å‡†åº“ä¸­çš„uuidæ¨¡å—ï¼Œå¯ä»¥å¿«é€Ÿå¹¶ç®€å•åœ°ç”Ÿæˆç»Ÿä¸€çš„å”¯ä¸€IDï¼ˆåˆç§°UUIDï¼‰

  ```python
  import uuid
  user_id = uuid.uuid4()
  print(user_id)
  ```

- å¼ºå¤§çš„ `zip()`

  `zip()` æ˜¯Pythonçš„å†…ç½®å‡½æ•°ï¼Œ`zip`å‡½æ•°æ¥å—ä»»æ„å¤šä¸ªï¼ˆåŒ…æ‹¬0ä¸ªå’Œ1ä¸ªï¼‰åºåˆ—ä½œä¸ºå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªåŒ…å«`tuple`çš„`list`ã€‚zip()å‡½æ•°å¯ä»¥åœ¨å¾ˆå¤šåœºæ™¯ç®€åŒ–ä»£ç ã€‚

  çŸ©é˜µçš„è¡Œåˆ—äº’æ¢

  ```python
  # Bad
  a = [[1, 2, 3], [4, 5, 6], [7, 8, 9]]

  re_a = [[row[col] for row in a] for col in range(len(a))]

  >>> [[1, 4, 7], [2, 5, 8], [3, 6, 9]]

  # Good
  a = [[1, 2, 3], [4, 5, 6], [7, 8, 9]]

  re_a = list(zip(*a))

  >>> [[1, 4, 7], [2, 5, 8], [3, 6, 9]]

  ```

  äº¤æ¢dictçš„å€¼

  ```python
  # Bad
  a = {'a': 1, 'b': 2, 'c': 3, 'd': 4}

  def reverse_dict(a):
      new_dict = {}
      for k,v in m.items():
          new_dict[v] = k
      return new_dict

  # Good
  a = {'a': 1, 'b': 2, 'c': 3, 'd': 4}

  def reverse_dict(a):
      k = a.keys()
      v = a.values()
      new_dict = dict(zip(v, k))
      return new_dict
  ```

  åˆå¹¶listç›¸é‚»é¡¹

  ```python
  a = [1, 2, 3, 4, 5, 6]

  list(zip( a[::2], a[1::2] ))
  >>> [(1, 2), (3, 4), (5, 6)]
  ```

- åˆå¹¶å­—ç¬¦ä¸²

  è¿™æ˜¯ä¸€ä¸ªè€ç”Ÿå¸¸è°ˆçš„é—®é¢˜ï¼Œå½“æˆ‘ä»¬éœ€è¦å°†æ•°ä¸ªå­—ç¬¦ä¸²åˆå¹¶çš„æ—¶å€™ï¼Œä¹ æƒ¯æ€§çš„ä½¿ç”¨"+"ä½œä¸ºè¿æ¥å­—ç¬¦ä¸²çš„æ‰‹æ®µã€‚

  ç„¶è€Œï¼Œç”±äºä¸å¯å˜å¯¹è±¡åœ¨å†…å­˜ä¸­ç”Ÿæˆåæ— æ³•ä¿®æ”¹ï¼Œåˆå¹¶åçš„å­—ç¬¦ä¸²ä¼šé‡æ–°å¼€è¾Ÿå‡ºä¸€å—å†…å­˜ç©ºé—´æ¥å­˜å‚¨ã€‚è¿™æ ·åƒæ»šé›ªçƒä¸€æ ·ï¼Œå°†å†…å­˜å¿«é€Ÿæ¶ˆè€—æ®†å°½ã€‚

  ```python
  # Bad
  string = ['a','b','c','d','e','f','g','h']

  def fun(string):
      all_string = ''
      for i in string:
          all_string += i
      return all_string


  # Good
  string = ['a','b','c','d','e','f','g,'h']

  def fun(string):
      all_string = ''.join(string)
      return all_string
    ```

- å˜é‡å€¼äº¤æ¢

  ```python
  # Bad
  tmp = a
  a = b
  b = tmp

  #Good
  a, b = b, a
  ```

- åœ¨å¾ªç¯ä¸­è·å–ç´¢å¼•(æ•°ç»„ä¸‹æ ‡)

  ```python
  a = [8, 23, 45, 12, 78]
  for index, value in enumerate(a):
  print(index , value)
  ```

- åœ¨ä¸€è¡Œæ•è·å¤šä¸ªå¼‚å¸¸

  ```python
  try:
    pass
  except (ExceptionA,ExceptionB,.....) as e:
      pass
  ```

- æŠŠåˆ—è¡¨åˆ†å‰²æˆåŒæ ·å¤§å°çš„å—

  ```python
  a = [1, 2, 3, 4, 5, 6]

  list(zip( *[iter(a)]*2 ))
  >>> [(1, 2), (3, 4), (5, 6)]
  ```

- æŸ¥æ‰¾åˆ—è¡¨ä¸­æŸä¸ªå…ƒç´ çš„ä¸‹æ ‡

  ```python
  a = ['a', 'b', 'c', 'd', 'e', 'f']

  a_i = a.index(a)
  >>> 0
  ```

- å¿«é€Ÿåè½¬å­—ç¬¦ä¸²

  ```python
  #Bad
  a = 'Python is a powerful languange.'

  list_a = list(a)
  list_a.reverse()
  re_a = ''.join(list_a)

  #Good
  a = 'Python is a powerful languange.'
  re_a = a[::-1]
  ```

- æ•°å€¼æ¯”è¾ƒ

  ```python
  x = 2
  if 1< x <3:
      print(x)
  >>> 2
  if 1< x >0:
      print(x)
  >>> 2
  ```

- ä¼˜é›…çš„æ‰“å¼€æ–‡ä»¶

  å¹³æ—¶åœ¨ä½¿ç”¨ç±»ä¼¼æ–‡ä»¶çš„æµå¯¹è±¡æ—¶ï¼Œä½¿ç”¨å®Œæ¯•åè¦è°ƒç”¨`close`æ–¹æ³•å…³é—­ã€‚`withâ€¦as`è¯­å¥æä¾›äº†ä¸€ä¸ªéå¸¸æ–¹ä¾¿çš„æ›¿ä»£æ–¹æ³•ï¼š`open`æ‰“å¼€æ–‡ä»¶åå°†è¿”å›çš„æ–‡ä»¶æµå¯¹è±¡èµ‹å€¼ç»™`f`ï¼Œç„¶ååœ¨`with`è¯­å¥å—ä¸­ä½¿ç”¨ã€‚`with`è¯­å¥å—å®Œæ¯•ä¹‹åï¼Œä¼šéšè—åœ°è‡ªåŠ¨å…³é—­æ–‡ä»¶ã€‚

  ```python
  with open('nothing.txt','r') as f:
    f.read()
  ```

- ä¸‰å…ƒè¡¨è¾¾å¼ï¼ˆä¸‰ç›®è¿ç®—ç¬¦ï¼‰
  Pythonä¸­æ²¡æœ‰å…¶ä»–è¯­è¨€ä¸­çš„ä¸‰å…ƒè¡¨è¾¾å¼ï¼Œä¸è¿‡æœ‰ç±»ä¼¼çš„å®ç°æ–¹æ³•

  ```python
  a = 1
  b = 2
  h = ""

  h = "å˜é‡1" if a>b else "å˜é‡2"

  print(h)
  ```

## 4. Pythonä¸­ä¸‹åˆ’çº¿çš„æ„ä¹‰

æœ¬æ–‡ä»‹ç»äº†Pythonä¸­å•ä¸‹åˆ’çº¿å’ŒåŒä¸‹åˆ’çº¿ï¼ˆ"dunder"ï¼‰çš„å„ç§å«ä¹‰å’Œå‘½åçº¦å®šï¼Œåç§°ä¿®é¥°ï¼ˆname manglingï¼‰çš„å·¥ä½œåŸç†ï¼Œä»¥åŠå®ƒå¦‚ä½•å½±å“Pythonç±»ã€‚

å•ä¸‹åˆ’çº¿å’ŒåŒä¸‹åˆ’çº¿åœ¨Pythonå˜é‡å’Œæ–¹æ³•åç§°ä¸­éƒ½å„æœ‰å…¶å«ä¹‰ã€‚æœ‰ä¸€äº›å«ä¹‰ä»…ä»…æ˜¯ä¾ç…§çº¦å®šï¼Œè¢«è§†ä½œæ˜¯å¯¹ç¨‹åºå‘˜çš„æç¤º, è€Œæœ‰ä¸€äº›å«ä¹‰æ˜¯ç”±Pythonè§£é‡Šå™¨ä¸¥æ ¼æ‰§è¡Œçš„ã€‚

- å•å‰å¯¼ä¸‹åˆ’çº¿ï¼š`_var`
- å•æœ«å°¾ä¸‹åˆ’çº¿ï¼š`var_`
- åŒå‰å¯¼ä¸‹åˆ’çº¿ï¼š`__var`
- åŒå‰å¯¼å’Œæœ«å°¾ä¸‹åˆ’çº¿ï¼š`__var__`
- å•ä¸‹åˆ’çº¿ï¼š`_`

åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†è®¨è®ºä»¥ä¸Šäº”ç§ä¸‹åˆ’çº¿æ¨¡å¼å’Œå‘½åçº¦å®šï¼Œä»¥åŠå®ƒä»¬å¦‚ä½•å½±å“Pythonç¨‹åºçš„è¡Œä¸ºï¼š

1. å•å‰å¯¼ä¸‹åˆ’çº¿ `_var`

    å½“æ¶‰åŠåˆ°å˜é‡å’Œæ–¹æ³•åç§°æ—¶ï¼Œå•ä¸ªä¸‹åˆ’çº¿å‰ç¼€æœ‰ä¸€ä¸ªçº¦å®šä¿—æˆçš„å«ä¹‰ã€‚ å®ƒæ˜¯å¯¹ç¨‹åºå‘˜çš„ä¸€ä¸ªæç¤ºâ€”â€”æ„å‘³ç€Pythonç¤¾åŒºä¸€è‡´è®¤ä¸ºå®ƒåº”è¯¥æ˜¯ä»€ä¹ˆæ„æ€ï¼Œä½†ç¨‹åºçš„è¡Œä¸ºä¸å—å½±å“ã€‚

    ä¸‹åˆ’çº¿å‰ç¼€çš„å«ä¹‰æ˜¯å‘ŠçŸ¥å…¶ä»–ç¨‹åºå‘˜ï¼šä»¥å•ä¸ªä¸‹åˆ’çº¿å¼€å¤´çš„å˜é‡æˆ–æ–¹æ³•ä»…ä¾›å†…éƒ¨ä½¿ç”¨ã€‚ è¯¥çº¦å®šåœ¨`PEP 8`ä¸­æœ‰å®šä¹‰ã€‚

    è¿™ä¸æ˜¯Pythonå¼ºåˆ¶è§„å®šçš„ã€‚ Pythonä¸åƒJavaé‚£æ ·åœ¨â€œç§æœ‰â€å’Œâ€œå…¬å…±â€å˜é‡ä¹‹é—´æœ‰å¾ˆå¼ºçš„åŒºåˆ«

    ä¾‹å­ï¼š

    ```python
    class Test:
      def __init__(self):
          self.foo = 11
          self._bar = 23
    ```

    å¦‚æœä½ å®ä¾‹åŒ–æ­¤ç±»ï¼Œå¹¶å°è¯•è®¿é—®åœ¨`__init__`æ„é€ å‡½æ•°ä¸­å®šä¹‰çš„`foo`å’Œ`_bar`å±æ€§ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆæƒ…å†µï¼Ÿ

    ```python
    >>> t = Test()
    >>> t.foo
    11
    >>> t._bar
    23
    ```

    ä½ ä¼šçœ‹åˆ°_barä¸­çš„å•ä¸ªä¸‹åˆ’çº¿å¹¶æ²¡æœ‰é˜»æ­¢æˆ‘ä»¬â€œè¿›å…¥â€ç±»å¹¶è®¿é—®è¯¥å˜é‡çš„å€¼ã€‚

    è¿™æ˜¯å› ä¸ºPythonä¸­çš„å•ä¸ªä¸‹åˆ’çº¿å‰ç¼€ä»…ä»…æ˜¯ä¸€ä¸ªçº¦å®šâ€”â€”è‡³å°‘ç›¸å¯¹äºå˜é‡å’Œæ–¹æ³•åè€Œè¨€ã€‚

    ä½†æ˜¯ï¼Œå‰å¯¼ä¸‹åˆ’çº¿çš„ç¡®ä¼šå½±å“ä»æ¨¡å—ä¸­å¯¼å…¥åç§°çš„æ–¹å¼ã€‚

    å‡è®¾ä½ åœ¨ä¸€ä¸ªåä¸ºmy_moduleçš„æ¨¡å—ä¸­æœ‰ä»¥ä¸‹ä»£ç ï¼š

    ```python
    # my_module.py:

    def external_func():
      return 23

    def _internal_func():
      return 42
    ```

    ç°åœ¨ï¼Œå¦‚æœä½¿ç”¨é€šé…ç¬¦ä»æ¨¡å—ä¸­å¯¼å…¥æ‰€æœ‰åç§°ï¼Œåˆ™Pythonä¸ä¼šå¯¼å…¥å¸¦æœ‰å‰å¯¼ä¸‹åˆ’çº¿çš„åç§°ï¼ˆé™¤éæ¨¡å—å®šä¹‰äº†è¦†ç›–æ­¤è¡Œä¸ºçš„__all__åˆ—è¡¨ï¼‰ï¼š

    ```python
    >>> from my_module import *
    >>> external_func()
    23
    >>> _internal_func()
    NameError: "name '_internal_func' is not defined"
    ```

    >BTWï¼š
    >
    >åº”è¯¥é¿å…é€šé…ç¬¦å¯¼å…¥ï¼Œå› ä¸ºå®ƒä»¬ä½¿åç§°ç©ºé—´ä¸­å­˜åœ¨å“ªäº›åç§°ä¸æ¸…æ¥šã€‚ ä¸ºäº†æ¸…æ¥šèµ·è§ï¼ŒåšæŒå¸¸è§„å¯¼å…¥æ›´å¥½ã€‚

    ä¸é€šé…ç¬¦å¯¼å…¥ä¸åŒï¼Œå¸¸è§„å¯¼å…¥ä¸å—å‰å¯¼å•ä¸ªä¸‹åˆ’çº¿å‘½åçº¦å®šçš„å½±å“ï¼š

    ```python
    >>> import my_module
    >>> my_module.external_func()
    23
    >>> my_module._internal_func()
    42
    ```

    ä¸€ç‚¹å¯èƒ½æœ‰ç‚¹ä»¤äººå›°æƒ‘ã€‚ å¦‚æœä½ éµå¾ª`PEP 8`ï¼Œé¿å…é€šé…ç¬¦å¯¼å…¥ï¼Œé‚£ä¹ˆä½ çœŸæ­£éœ€è¦è®°ä½çš„åªæœ‰è¿™ä¸ªï¼š

    å•ä¸ªä¸‹åˆ’çº¿æ˜¯ä¸€ä¸ªPythonå‘½åçº¦å®šï¼Œè¡¨ç¤ºè¿™ä¸ªåç§°æ˜¯ä¾›å†…éƒ¨ä½¿ç”¨çš„ã€‚ å®ƒé€šå¸¸ä¸ç”±Pythonè§£é‡Šå™¨å¼ºåˆ¶æ‰§è¡Œï¼Œä»…ä»…ä½œä¸ºä¸€ç§å¯¹ç¨‹åºå‘˜çš„æç¤ºã€‚

2. å•æœ«å°¾ä¸‹åˆ’çº¿ `var_`

    æœ‰æ—¶å€™ï¼Œä¸€ä¸ªå˜é‡çš„æœ€åˆé€‚çš„åç§°å·²ç»è¢«ä¸€ä¸ªå…³é”®å­—æ‰€å ç”¨ã€‚ å› æ­¤ï¼Œåƒclassæˆ–defè¿™æ ·çš„åç§°ä¸èƒ½ç”¨ä½œPythonä¸­çš„å˜é‡åç§°ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥é™„åŠ ä¸€ä¸ªä¸‹åˆ’çº¿æ¥è§£å†³å‘½åå†²çªï¼š

    ```python
    >>> def make_object(name, class):
    SyntaxError: "invalid syntax"

    >>> def make_object(name, class_):
    ...    pass
    ```

    æ€»ä¹‹ï¼Œå•ä¸ªæœ«å°¾ï¼ˆåç¼€ï¼‰ä¸‹åˆ’çº¿æ˜¯ä¸€ä¸ªçº¦å®šï¼Œç”¨æ¥é¿å…ä¸Pythonå…³é”®å­—äº§ç”Ÿå‘½åå†²çªã€‚ `PEP 8`è§£é‡Šäº†è¿™ä¸ªçº¦å®šã€‚

3. åŒå‰å¯¼ä¸‹åˆ’çº¿ `__var`

    åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬æ‰€æ¶‰åŠçš„æ‰€æœ‰å‘½åæ¨¡å¼çš„å«ä¹‰ï¼Œæ¥è‡ªäºå·²è¾¾æˆå…±è¯†çš„çº¦å®šã€‚ è€Œå¯¹äºä»¥åŒä¸‹åˆ’çº¿å¼€å¤´çš„Pythonç±»çš„å±æ€§ï¼ˆåŒ…æ‹¬å˜é‡å’Œæ–¹æ³•ï¼‰ï¼Œæƒ…å†µå°±æœ‰ç‚¹ä¸åŒäº†ã€‚

    åŒä¸‹åˆ’çº¿å‰ç¼€ä¼šå¯¼è‡´Pythonè§£é‡Šå™¨é‡å†™å±æ€§åç§°ï¼Œä»¥é¿å…å­ç±»ä¸­çš„å‘½åå†²çªã€‚

    è¿™ä¹Ÿå«åšåç§°ä¿®é¥°(name mangling)â€”â€”è§£é‡Šå™¨æ›´æ”¹å˜é‡çš„åç§°ï¼Œä»¥ä¾¿åœ¨ç±»è¢«æ‰©å±•çš„æ—¶å€™ä¸å®¹æ˜“äº§ç”Ÿå†²çªã€‚

    è¿™å¬èµ·æ¥å¾ˆæŠ½è±¡ã€‚ å› æ­¤ï¼Œæˆ‘ç»„åˆäº†ä¸€ä¸ªå°å°çš„ä»£ç ç¤ºä¾‹æ¥äºˆä»¥è¯´æ˜ï¼š

    ```python
    class Test:
      def __init__(self):
          self.foo = 11
          self._bar = 23
          self.__baz = 23
    ```

    è®©æˆ‘ä»¬ç”¨å†…ç½®çš„dir()å‡½æ•°æ¥çœ‹çœ‹è¿™ä¸ªå¯¹è±¡çš„å±æ€§ï¼š

    ```python
    >>> t = Test()
    >>> dir(t)
    ['_Test__baz', '__class__', '__delattr__', '__dict__', '__dir__',
    '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__',
    '__gt__', '__hash__', '__init__', '__le__', '__lt__', '__module__',
    '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__',
    '__setattr__', '__sizeof__', '__str__', '__subclasshook__',
    '__weakref__', '_bar', 'foo']
    ```

    ä»¥ä¸Šæ˜¯è¿™ä¸ªå¯¹è±¡å±æ€§çš„åˆ—è¡¨ã€‚ è®©æˆ‘ä»¬æ¥çœ‹çœ‹è¿™ä¸ªåˆ—è¡¨ï¼Œå¹¶å¯»æ‰¾æˆ‘ä»¬çš„åŸå§‹å˜é‡åç§°fooï¼Œ_barå’Œ__bazâ€”â€”æˆ‘ä¿è¯ä½ ä¼šæ³¨æ„åˆ°ä¸€äº›æœ‰è¶£çš„å˜åŒ–ã€‚

    - `self.foo`å˜é‡åœ¨å±æ€§åˆ—è¡¨ä¸­æ˜¾ç¤ºä¸ºæœªä¿®æ”¹ä¸º`foo`ã€‚

    - `self._bar`çš„è¡Œä¸ºæ–¹å¼ç›¸åŒâ€”â€”å®ƒä»¥`_bar`çš„å½¢å¼æ˜¾ç¤ºåœ¨ç±»ä¸Šã€‚ å°±åƒæˆ‘ä¹‹å‰è¯´è¿‡çš„ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå‰å¯¼ä¸‹åˆ’çº¿ä»…ä»…æ˜¯ä¸€ä¸ªçº¦å®šã€‚ ç»™ç¨‹åºå‘˜ä¸€ä¸ªæç¤ºè€Œå·²ã€‚

    - å¯¹äº`self.__baz`è€Œè¨€ï¼Œæƒ…å†µçœ‹èµ·æ¥æœ‰ç‚¹ä¸åŒã€‚ å½“ä½ åœ¨è¯¥åˆ—è¡¨ä¸­æœç´¢__bazæ—¶ï¼Œä½ ä¼šçœ‹ä¸åˆ°æœ‰è¿™ä¸ªåå­—çš„å˜é‡ã€‚

    `__baz`å‡ºä»€ä¹ˆæƒ…å†µäº†ï¼Ÿ

    å¦‚æœä½ ä»”ç»†è§‚å¯Ÿï¼Œä½ ä¼šçœ‹åˆ°æ­¤å¯¹è±¡ä¸Šæœ‰ä¸€ä¸ªåä¸º`_Test__baz`çš„å±æ€§ã€‚ è¿™å°±æ˜¯Pythonè§£é‡Šå™¨æ‰€åšçš„åç§°ä¿®é¥°ã€‚ å®ƒè¿™æ ·åšæ˜¯ä¸ºäº†é˜²æ­¢å˜é‡åœ¨å­ç±»ä¸­è¢«é‡å†™ã€‚

    è®©æˆ‘ä»¬åˆ›å»ºå¦ä¸€ä¸ªæ‰©å±•`Test`ç±»çš„ç±»ï¼Œå¹¶å°è¯•é‡å†™æ„é€ å‡½æ•°ä¸­æ·»åŠ çš„ç°æœ‰å±æ€§ï¼š

    ```python
    class ExtendedTest(Test):
      def __init__(self):
          super().__init__()
          self.foo = 'overridden'
          self._bar = 'overridden'
          self.__baz = 'overridden'
    ```

    ç°åœ¨ï¼Œä½ è®¤ä¸ºfooï¼Œ_barå’Œ__bazçš„å€¼ä¼šå‡ºç°åœ¨è¿™ä¸ªExtendedTestç±»çš„å®ä¾‹ä¸Šå—ï¼Ÿ æˆ‘ä»¬æ¥çœ‹ä¸€çœ‹ï¼š

    ```python
    >>> t2 = ExtendedTest()
    >>> t2.foo
    'overridden'
    >>> t2._bar
    'overridden'
    >>> t2.__baz
    AttributeError: "'ExtendedTest' object has no attribute '__baz'"
    ```

    ç­‰ä¸€ä¸‹ï¼Œå½“æˆ‘ä»¬å°è¯•æŸ¥çœ‹`t2 .__ baz`çš„å€¼æ—¶ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬ä¼šå¾—åˆ°`AttributeError`? åç§°ä¿®é¥°è¢«å†æ¬¡è§¦å‘äº†ï¼ äº‹å®è¯æ˜ï¼Œè¿™ä¸ªå¯¹è±¡ç”šè‡³æ²¡æœ‰`__baz`å±æ€§ï¼š

    ```python
    >>> dir(t2)
    ['_ExtendedTest__baz', '_Test__baz', '__class__', '__delattr__',
    '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__',
    '__getattribute__', '__gt__', '__hash__', '__init__', '__le__',
    '__lt__', '__module__', '__ne__', '__new__', '__reduce__',
    '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__',
    '__subclasshook__', '__weakref__', '_bar', 'foo', 'get_vars']
    ```

    æ­£å¦‚ä½ å¯ä»¥çœ‹åˆ°__bazå˜æˆ_ExtendedTest__bazä»¥é˜²æ­¢æ„å¤–ä¿®æ”¹ï¼š

    ```python
    >>> t2._ExtendedTest__baz
    'overridden'
    ```

    ä½†åŸæ¥çš„_Test__bazè¿˜åœ¨ï¼š

    ```python
    >>> t2._Test__baz
    42
    ```

    åŒä¸‹åˆ’çº¿åç§°ä¿®é¥°å¯¹ç¨‹åºå‘˜æ˜¯å®Œå…¨é€æ˜çš„ã€‚ ä¸‹é¢çš„ä¾‹å­è¯å®äº†è¿™ä¸€ç‚¹ï¼š

    ```python
    class ManglingTest:
      def __init__(self):
          self.__mangled = 'hello'

      def get_mangled(self):
          return self.__mangled

    >>> ManglingTest().get_mangled()
    'hello'
    >>> ManglingTest().__mangled
    AttributeError: "'ManglingTest' object has no attribute '__mangled'"
    ```

    åç§°ä¿®é¥°æ˜¯å¦ä¹Ÿé€‚ç”¨äºæ–¹æ³•åç§°ï¼Ÿ æ˜¯çš„ï¼Œä¹Ÿé€‚ç”¨ã€‚åç§°ä¿®é¥°ä¼šå½±å“åœ¨ä¸€ä¸ªç±»çš„ä¸Šä¸‹æ–‡ä¸­ï¼Œä»¥ä¸¤ä¸ªä¸‹åˆ’çº¿å­—ç¬¦ï¼ˆ"dunders"ï¼‰å¼€å¤´çš„æ‰€æœ‰åç§°ï¼š

    ```python
    class MangledMethod:
      def __method(self):
          return 42

      def call_it(self):
          return self.__method()

    >>> MangledMethod().__method()
    AttributeError: "'MangledMethod' object has no attribute '__method'"
    >>> MangledMethod().call_it()
    42
    ```

    è¿™æ˜¯å¦ä¸€ä¸ªä¹Ÿè®¸ä»¤äººæƒŠè®¶çš„è¿ç”¨åç§°ä¿®é¥°çš„ä¾‹å­ï¼š

    ```python
    _MangledGlobal__mangled = 23

    class MangledGlobal:
      def test(self):
          return __mangled

    >>> MangledGlobal().test()
    23
    ```

    åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘å£°æ˜äº†ä¸€ä¸ªåä¸º`_MangledGlobal__mangled`çš„å…¨å±€å˜é‡ã€‚ç„¶åæˆ‘åœ¨åä¸º`MangledGlobal`çš„ç±»çš„ä¸Šä¸‹æ–‡ä¸­è®¿é—®å˜é‡ã€‚ç”±äºåç§°ä¿®é¥°ï¼Œæˆ‘èƒ½å¤Ÿåœ¨ç±»çš„`test()`æ–¹æ³•å†…ï¼Œä»¥`__mangled`æ¥å¼•ç”¨`_MangledGlobal__mangled`å…¨å±€å˜é‡ã€‚

    Pythonè§£é‡Šå™¨è‡ªåŠ¨å°†åç§°`__mangled`æ‰©å±•ä¸º`_MangledGlobal__mangled`ï¼Œå› ä¸ºå®ƒä»¥ä¸¤ä¸ªä¸‹åˆ’çº¿å­—ç¬¦å¼€å¤´ã€‚è¿™è¡¨æ˜åç§°ä¿®é¥°ä¸æ˜¯ä¸“é—¨ä¸ç±»å±æ€§å…³è”çš„ã€‚å®ƒé€‚ç”¨äºåœ¨ç±»ä¸Šä¸‹æ–‡ä¸­ä½¿ç”¨çš„ä¸¤ä¸ªä¸‹åˆ’çº¿å­—ç¬¦å¼€å¤´çš„ä»»ä½•åç§°ã€‚

    è€å®è¯´ï¼Œè¿™äº›ä¾‹å­å’Œè§£é‡Šä¸æ˜¯ä»æˆ‘è„‘å­é‡Œè¹¦å‡ºæ¥çš„ã€‚æˆ‘ä½œäº†ä¸€äº›ç ”ç©¶å’ŒåŠ å·¥æ‰å¼„å‡ºæ¥ã€‚æˆ‘ä¸€ç›´ä½¿ç”¨Pythonï¼Œæœ‰å¾ˆå¤šå¹´äº†ï¼Œä½†æ˜¯åƒè¿™æ ·çš„è§„åˆ™å’Œç‰¹æ®Šæƒ…å†µå¹¶ä¸æ€»æ˜¯æµ®ç°åœ¨è„‘æµ·é‡Œã€‚

    æœ‰æ—¶å€™ç¨‹åºå‘˜æœ€é‡è¦çš„æŠ€èƒ½æ˜¯â€œæ¨¡å¼è¯†åˆ«â€ï¼Œè€Œä¸”çŸ¥é“åœ¨å“ªé‡ŒæŸ¥é˜…ä¿¡æ¯ã€‚å¦‚æœæ‚¨åœ¨è¿™ä¸€ç‚¹ä¸Šæ„Ÿåˆ°æœ‰ç‚¹ä¸çŸ¥æ‰€æªï¼Œè¯·ä¸è¦æ‹…å¿ƒã€‚æ…¢æ…¢æ¥ï¼Œè¯•è¯•è¿™ç¯‡æ–‡ç« ä¸­çš„ä¸€äº›ä¾‹å­ã€‚

    è®©è¿™äº›æ¦‚å¿µå®Œå…¨æ²‰æµ¸ä¸‹æ¥ï¼Œä»¥ä¾¿ä½ èƒ½å¤Ÿç†è§£åç§°ä¿®é¥°çš„æ€»ä½“æ€è·¯ï¼Œä»¥åŠæˆ‘å‘æ‚¨å±•ç¤ºçš„ä¸€äº›å…¶ä»–çš„è¡Œä¸ºã€‚å¦‚æœæœ‰ä¸€å¤©ä½ å’Œå®ƒä»¬ä¸æœŸè€Œé‡ï¼Œä½ ä¼šçŸ¥é“åœ¨æ–‡æ¡£ä¸­æŒ‰ä»€ä¹ˆæ¥æŸ¥ã€‚

4. åŒå‰å¯¼å’ŒåŒæœ«å°¾ä¸‹åˆ’çº¿ `_var_`

    ä¹Ÿè®¸ä»¤äººæƒŠè®¶çš„æ˜¯ï¼Œå¦‚æœä¸€ä¸ªåå­—åŒæ—¶ä»¥åŒä¸‹åˆ’çº¿å¼€å§‹å’Œç»“æŸï¼Œåˆ™ä¸ä¼šåº”ç”¨åç§°ä¿®é¥°ã€‚ ç”±åŒä¸‹åˆ’çº¿å‰ç¼€å’Œåç¼€åŒ…å›´çš„å˜é‡ä¸ä¼šè¢«Pythonè§£é‡Šå™¨ä¿®æ”¹ï¼š

    ```python
    class PrefixPostfixTest:
      def __init__(self):
          self.__bam__ = 42

    >>> PrefixPostfixTest().__bam__
    42
    ```

    ä½†æ˜¯ï¼ŒPythonä¿ç•™äº†æœ‰åŒå‰å¯¼å’ŒåŒæœ«å°¾ä¸‹åˆ’çº¿çš„åç§°ï¼Œç”¨äºç‰¹æ®Šç”¨é€”ã€‚ è¿™æ ·çš„ä¾‹å­æœ‰ï¼Œ`__init__`å¯¹è±¡æ„é€ å‡½æ•°ï¼Œæˆ–`__call__`â€”â€”å®ƒä½¿å¾—ä¸€ä¸ªå¯¹è±¡å¯ä»¥è¢«è°ƒç”¨ã€‚

    è¿™äº›`dunder methods`é€šå¸¸è¢«ç§°ä¸º`magic methods`â€”â€”ä½†Pythonç¤¾åŒºä¸­çš„è®¸å¤šäººï¼ˆåŒ…æ‹¬æˆ‘è‡ªå·±ï¼‰éƒ½ä¸å–œæ¬¢è¿™ç§æ–¹æ³•ã€‚

    æœ€å¥½é¿å…åœ¨è‡ªå·±çš„ç¨‹åºä¸­ä½¿ç”¨ä»¥åŒä¸‹åˆ’çº¿ï¼ˆâ€œdundersâ€ï¼‰å¼€å¤´å’Œç»“å°¾çš„åç§°ï¼Œä»¥é¿å…ä¸å°†æ¥Pythonè¯­è¨€çš„å˜åŒ–äº§ç”Ÿå†²çªã€‚

5. å•ä¸‹åˆ’çº¿ _

    æŒ‰ç…§ä¹ æƒ¯ï¼Œæœ‰æ—¶å€™å•ä¸ªç‹¬ç«‹ä¸‹åˆ’çº¿æ˜¯ç”¨ä½œä¸€ä¸ªåå­—ï¼Œæ¥è¡¨ç¤ºæŸä¸ªå˜é‡æ˜¯ä¸´æ—¶çš„æˆ–æ— å…³ç´§è¦çš„ã€‚

    ä¾‹å¦‚ï¼Œåœ¨ä¸‹é¢çš„å¾ªç¯ä¸­ï¼Œæˆ‘ä»¬ä¸éœ€è¦è®¿é—®æ­£åœ¨è¿è¡Œçš„ç´¢å¼•ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨â€œ_â€æ¥è¡¨ç¤ºå®ƒåªæ˜¯ä¸€ä¸ªä¸´æ—¶å€¼ï¼š

    ```python
    >>> for _ in range(32):
    ...    print('Hello, World.')
    ```

    ä½ ä¹Ÿå¯ä»¥åœ¨æ‹†åˆ†(unpacking)è¡¨è¾¾å¼ä¸­å°†å•ä¸ªä¸‹åˆ’çº¿ç”¨ä½œâ€œä¸å…³å¿ƒçš„â€å˜é‡ï¼Œä»¥å¿½ç•¥ç‰¹å®šçš„å€¼ã€‚ åŒæ ·ï¼Œè¿™ä¸ªå«ä¹‰åªæ˜¯â€œä¾ç…§çº¦å®šâ€ï¼Œå¹¶ä¸ä¼šåœ¨Pythonè§£é‡Šå™¨ä¸­è§¦å‘ç‰¹æ®Šçš„è¡Œä¸ºã€‚ å•ä¸ªä¸‹åˆ’çº¿ä»…ä»…æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„å˜é‡åç§°ï¼Œä¼šæœ‰è¿™ä¸ªç”¨é€”è€Œå·²ã€‚

    åœ¨ä¸‹é¢çš„ä»£ç ç¤ºä¾‹ä¸­ï¼Œæˆ‘å°†æ±½è½¦å…ƒç»„æ‹†åˆ†ä¸ºå•ç‹¬çš„å˜é‡ï¼Œä½†æˆ‘åªå¯¹é¢œè‰²å’Œé‡Œç¨‹å€¼æ„Ÿå…´è¶£ã€‚ ä½†æ˜¯ï¼Œä¸ºäº†ä½¿æ‹†åˆ†è¡¨è¾¾å¼æˆåŠŸè¿è¡Œï¼Œæˆ‘éœ€è¦å°†åŒ…å«åœ¨å…ƒç»„ä¸­çš„æ‰€æœ‰å€¼åˆ†é…ç»™å˜é‡ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œâ€œ_â€ä½œä¸ºå ä½ç¬¦å˜é‡å¯ä»¥æ´¾ä¸Šç”¨åœºï¼š

    ```python
    >>> car = ('red', 'auto', 12, 3812.4)
    >>> color, _, _, mileage = car

    >>> color
    'red'
    >>> mileage
    3812.4
    >>> _
    12
    ```

    é™¤äº†ç”¨ä½œä¸´æ—¶å˜é‡ä¹‹å¤–ï¼Œâ€œ_â€æ˜¯å¤§å¤šæ•°`Python REPL`ä¸­çš„ä¸€ä¸ªç‰¹æ®Šå˜é‡ï¼Œå®ƒè¡¨ç¤ºç”±è§£é‡Šå™¨è¯„ä¼°çš„æœ€è¿‘ä¸€ä¸ªè¡¨è¾¾å¼çš„ç»“æœã€‚

    è¿™æ ·å°±å¾ˆæ–¹ä¾¿äº†ï¼Œæ¯”å¦‚ä½ å¯ä»¥åœ¨ä¸€ä¸ªè§£é‡Šå™¨ä¼šè¯ä¸­è®¿é—®å…ˆå‰è®¡ç®—çš„ç»“æœï¼Œæˆ–è€…ï¼Œä½ æ˜¯åœ¨åŠ¨æ€æ„å»ºå¤šä¸ªå¯¹è±¡å¹¶ä¸å®ƒä»¬äº¤äº’ï¼Œæ— éœ€äº‹å…ˆç»™è¿™äº›å¯¹è±¡åˆ†é…åå­—ï¼š

    ```python
    >>> 20 + 3
    23
    >>> _
    23
    >>> print(_)
    23

    >>> list()
    []
    >>> _.append(1)
    >>> _.append(2)
    >>> _.append(3)
    >>> _
    [1, 2, 3]
    ```

Pythonä¸‹åˆ’çº¿å‘½åæ¨¡å¼ - å°ç»“
ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€çŸ­çš„å°ç»“ï¼Œå³â€œé€ŸæŸ¥è¡¨â€ï¼Œç½—åˆ—äº†æˆ‘åœ¨æœ¬æ–‡ä¸­è°ˆåˆ°çš„äº”ç§Pythonä¸‹åˆ’çº¿æ¨¡å¼çš„å«ä¹‰ï¼š
  ![Pythonä¸‹åˆ’çº¿å‘½åæ¨¡å¼](https://pic3.zhimg.com/80/v2-cbc5c6037101c7d33cf0acd9f00a8cfa_hd.jpg)
